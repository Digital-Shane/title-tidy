profile: cover.out

threshold:
  file: 60
  package: 70
  total: 75

# Holds regexp rules which will override thresholds for matched files or packages 
# using their paths.
#
# First rule from this list that matches file or package is going to apply 
# new threshold to it. If project has multiple rules that match same path, 
# override rules should be listed in order from specific to more general rules.
override:
  # Adjusted threshold for cmd package (contains UI launch code)
  - path: ^internal/cmd$
    threshold: 70
  - path: ^internal/cmd/config\.go$
    threshold: 40
  # Lower threshold for log/undo package (has filesystem access functions for TUI)
  - path: ^internal/log/undo\.go$
    threshold: 40
  # Lower threshold for log package (has filesystem access functions)
  - path: ^internal/log$
    threshold: 60
  # Lower threshold for util package (depends on external TMDB provider interface)
  - path: ^internal/util$
    threshold: 15
  # Lower threshold for util/metadata.go (depends on external TMDB provider interface)
  - path: ^internal/util/metadata\.go$
    threshold: 15

# Holds regexp rules which will exclude matched files or packages 
# from coverage statistics.
exclude:
  # Exclude files or packages matching their paths
  paths:
    - ^main\.go$
    - ^internal/tui/config\.go$
    - ^internal/cmd/config_cmd\.go$
    - ^internal/tui/tui\.go$
    - ^internal/tui/rename\.go$
    - ^internal/tui/link\.go$
    - ^internal/tui/undo\.go$  # TUI for undo operations
    - ^internal/cmd/undo\.go$  # Launches TUI for undo
    - ^internal/cmd/config\.go$  # TUI indexing and rename operations
    - ^internal/tui/metadata_progress\.go$  # TUI for metadata progress display
